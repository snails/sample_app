<script>
  <!--
    function size(par) { 
    var max = 140; 
    var str = max - par.value.length; 
    var result = (str > -1? str : 'Over ' + Math.abs(str));
    document.getElementById("charactor_count").innerHTML = result; 
  } 
  -->
</script>

<%= form_for(@micropost, remote: true) do |f| %>
  <%= render 'shared/error_messages', object: f.object %>
  <div class="field">
    <%= f.text_area :content, placeholder: "Compose new micropost...",
                    onkeyup: "size(this);" %>
    <span id="charactor_count">140</span>
  </div>
  <%= f.submit "Post", class: "btn btn-large btn-primary" %>
<% end %>
